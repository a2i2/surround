
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>API &#8212; Surround 0.0.9 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Command-line Interface" href="cli-guide.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api">
<span id="surround-api"></span><h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p>Here you can find documentation on all classes and their methods in Surround.</p>
<div class="section" id="assembler">
<span id="id1"></span><h2>Assembler<a class="headerlink" href="#assembler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="surround.assembler.Assembler">
<em class="property">class </em><code class="descclassname">surround.assembler.</code><code class="descname">Assembler</code><span class="sig-paren">(</span><em>assembler_name=''</em>, <em>validator=None</em>, <em>estimator=None</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler" title="Permalink to this definition">¶</a></dt>
<dd><p>Class responsible for assembling and executing a Surround pipeline.</p>
<p>Responsibilties:</p>
<ul class="simple">
<li><p>Encapsulate the configuration data, validator, filter(s), visualiser, and estimator.</p></li>
<li><p>Initialize all filters and the estimator</p></li>
<li><p>Load configuration from a specified module</p></li>
<li><p>Run the pipeline with input data in predict/batch/train mode</p></li>
</ul>
<p>Where running the pipeline involves passing the data to each stage in the following order:</p>
<p>Validator -&gt; Pre-filter(s) -&gt; Estimator -&gt; Post-filter(s) -&gt; Visualiser</p>
<p>For more information on this process, see the <a class="reference internal" href="about.html#about"><span class="std std-ref">About</span></a> page.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read_config_files</span><span class="p">([</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">])</span>

<span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="s2">&quot;Example pipeline&quot;</span><span class="p">,</span> <span class="n">Validation</span><span class="p">(),</span> <span class="kc">None</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">set_estimator</span><span class="p">(</span><span class="n">PredictStage</span><span class="p">(),</span> <span class="p">[</span><span class="n">PreFilter</span><span class="p">()],</span> <span class="p">[</span><span class="n">PostFilter</span><span class="p">()])</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">(</span><span class="n">batch_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">TestData</span><span class="p">(</span><span class="s2">&quot;some data&quot;</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Batch-predict mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">assembler</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">(</span><span class="n">batch_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Training mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">assembler</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">(</span><span class="n">batch_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Predict/Estimate mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">assembler</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">(</span><span class="n">batch_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Constructor for an Assembler pipeline:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assembler_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the pipeline</p></li>
<li><p><strong>validator</strong> (<a class="reference internal" href="#surround.stage.Validator" title="surround.stage.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Validator</span></code></a>) – The validator to use on input data (default: None)</p></li>
<li><p><strong>estimator</strong> (<a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a>) – The estimator to use on input data (default: None)</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – The pipeline configuration data</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="surround.assembler.Assembler.init_assembler">
<code class="descname">init_assembler</code><span class="sig-paren">(</span><em>batch_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.init_assembler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.init_assembler" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the assembler and all of it’s stages.</p>
<p>Calls the <a class="reference internal" href="#surround.stage.Stage.init_stage" title="surround.stage.Stage.init_stage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.stage.Stage.init_stage()</span></code></a> method of all filters and the estimator.
Also used set the variable <code class="docutils literal notranslate"><span class="pre">batch_mode</span></code> which is then used to determine if the visualiser
should be used after all the stages have been executed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be called after <a class="reference internal" href="#surround.assembler.Assembler.set_estimator" title="surround.assembler.Assembler.set_estimator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.set_estimator()</span></code></a> and
<a class="reference internal" href="#surround.assembler.Assembler.set_config" title="surround.assembler.Assembler.set_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.set_config()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>batch_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Whether batch mode should be used</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.assembler.Assembler.load_config">
<code class="descname">load_config</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a module contained in the root of the project, create an instance of
<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a> loading configuration data from the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>
found in the project, and use this configuration for the pipeline.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be called before <code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assemble.init_assembler()</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the module</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.assembler.Assembler.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>surround_data=None</em>, <em>is_training=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the pipeline using the input data provided.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">is_training</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> then when it gets to the execution of the estimator,
it will use the <a class="reference internal" href="#surround.stage.Estimator.fit" title="surround.stage.Estimator.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.stage.Estimator.fit()</span></code></a> method instead.</p>
<p>If the above or <code class="docutils literal notranslate"><span class="pre">batch_mode</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> then when all the other stages have finished,
the visualiser will be executed.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">surround.enable_stage_output_dump</span></code> is enabled in the Config instance then each filter and
estimator’s <a class="reference internal" href="#surround.stage.Stage.dump_output" title="surround.stage.Stage.dump_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.stage.Stage.dump_output()</span></code></a> method will be called.</p>
<p>This method doesn’t return anything, instead results should be stored in the <code class="docutils literal notranslate"><span class="pre">surround_data</span></code>
object passed in the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (<a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Data passed between each stage in the pipeline</p></li>
<li><p><strong>is_training</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Run the pipeline in training mode or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.assembler.Assembler.set_config">
<code class="descname">set_config</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.set_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.set_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the configuration data to be used during pipeline execution.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be called before <a class="reference internal" href="#surround.assembler.Assembler.init_assembler" title="surround.assembler.Assembler.init_assembler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.init_assembler()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – the configuration data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.assembler.Assembler.set_estimator">
<code class="descname">set_estimator</code><span class="sig-paren">(</span><em>estimator=None</em>, <em>pre_filters=None</em>, <em>post_filters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.set_estimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.set_estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the estimator that should be used during pipeline execution and any filters (if required).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be called before <a class="reference internal" href="#surround.assembler.Assembler.init_assembler" title="surround.assembler.Assembler.init_assembler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.init_assembler()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a>) – the estimator to be used for this pipeline</p></li>
<li><p><strong>pre_filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference internal" href="#surround.stage.Filter" title="surround.stage.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Filter</span></code></a>) – list of pre-filters (default: None)</p></li>
<li><p><strong>post_filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference internal" href="#surround.stage.Filter" title="surround.stage.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Filter</span></code></a>) – list of post-filters (default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.assembler.Assembler.set_visualiser">
<code class="descname">set_visualiser</code><span class="sig-paren">(</span><em>visualiser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/assembler.html#Assembler.set_visualiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.assembler.Assembler.set_visualiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the visualiser that will be executed after all other stages during
batch-predict/training mode.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See <a class="reference internal" href="#surround.visualiser.Visualiser" title="surround.visualiser.Visualiser"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.visualiser.Visualiser</span></code></a> for more information.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>visualiser</strong> (<a class="reference internal" href="#surround.visualiser.Visualiser" title="surround.visualiser.Visualiser"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.visualiser.Visualiser</span></code></a>) – the visualiser instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-surround"></span><div class="section" id="config">
<h3>Config<a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.config.Config">
<em class="property">class </em><code class="descclassname">surround.config.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>project_root=None</em>, <em>package_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterable dictionary class that loads and stores all the configuration settings from
both default and project YAML files and environment variables. Primarily used in stages
to retrieve configuration data set for development/production.</p>
<p>Responsibilities:</p>
<ul class="simple">
<li><p>Parse the config.yaml file and store the data as key-value pairs.</p></li>
<li><p>Allow environment variables override data loaded from file/dict (must be prefixed with <code class="docutils literal notranslate"><span class="pre">SURROUND_</span></code>).</p></li>
<li><p>Provide READ-ONLY access to the stored config values via <code class="docutils literal notranslate"><span class="pre">[]</span></code> operator and iteration.</p></li>
</ul>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read_from_dict</span><span class="p">({</span> <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">True</span> <span class="p">})</span>
<span class="n">config</span><span class="o">.</span><span class="n">read_config_files</span><span class="p">([</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">])</span>

<span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;debug&quot;</span><span class="p">]:</span>
    <span class="c1"># Do debug stuff</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
    <span class="c1"># Iterate over all data</span>
</pre></div>
</div>
<p>You could then override the above configuration using the systems environment variables,
just prefix the var with <cite>SURROUND_</cite> like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SURROUND_DEBUG</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>It also supports overriding nested configuration data, for example with the following config:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">predict</span><span class="p">:</span>
    <span class="n">debug</span><span class="p">:</span> <span class="kc">True</span>
</pre></div>
</div>
<p>We can override the above with the following environment variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SURRROUND_PREDICT_DEBUG</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>Constructor of the Config class, loads the default YAML file into storage.
If the <code class="xref py py-attr docutils literal notranslate"><span class="pre">project_root</span></code> is provided then the project’s <cite>config.yaml</cite>
file is also loaded into configuration.</p>
<p>The default config file (<cite>defaults.yaml</cite>) can be found in the same directory as the <cite>config.py</cite> script.
The project config file (<cite>config.yaml</cite>) can be found in the root of the project folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the root directory of the surround project (default: None)</p></li>
<li><p><strong>package_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the root directory of the package that contains the surround project (default: None)</p></li>
</ul>
</dd>
</dl>
<span class="target" id="module-surround"></span><dl class="method">
<dt id="surround.config.Config.get_path">
<code class="descname">get_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/config.html#Config.get_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.config.Config.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns value that can be found at the key path provided (useful for nested values).</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;surround.stages&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;surround&#39;</span><span class="p">][</span><span class="s1">&#39;stages&#39;</span><span class="p">]</span>
<span class="o">--&gt;</span> <span class="kc">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the value in storage</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value found at the path or none if not found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.config.Config.read_config_files">
<code class="descname">read_config_files</code><span class="sig-paren">(</span><em>yaml_files</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/config.html#Config.read_config_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.config.Config.read_config_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the YAML files provided and stores their key-value pairs in config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yaml_files</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – multiple paths to the YAML files to load</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true on success, throws <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a> on failure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.config.Config.read_from_dict">
<code class="descname">read_from_dict</code><span class="sig-paren">(</span><em>config_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/config.html#Config.read_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.config.Config.read_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all key-value pairs from the dict provided and store in config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – configuration settings to be added to storage</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true on success, throws exception on failure (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="surrounddata">
<h3>SurroundData<a class="headerlink" href="#surrounddata" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.SurroundData">
<em class="property">class </em><code class="descclassname">surround.</code><code class="descname">SurroundData</code><a class="reference internal" href="_modules/surround/surround.html#SurroundData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.SurroundData" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the data to be passed between each stage in a pipeline.
Each stage is responsible for setting the attributes to this class.</p>
<p><strong>Attributes:</strong></p>
<ul class="simple">
<li><p><cite>stage_metadata</cite> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) - information that can be used to identify the stage</p></li>
<li><p><cite>execution_time</cite> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - how long it took to execute the entire pipeline</p></li>
<li><p><cite>errors</cite> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) - list of error messages (stops the pipeline when appended to)</p></li>
<li><p><cite>warnings</cite> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) - list of warning messages (displayed in console)</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PipelineData</span><span class="p">(</span><span class="n">SurroundData</span><span class="p">):</span>
    <span class="c1"># Extra attributes must be defined before the pipeline is ran!</span>
    <span class="n">input_data</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">output_data</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">input_data</span>

<span class="k">class</span> <span class="nc">ValidationStage</span><span class="p">(</span><span class="n">Validator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">data</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;not correct input format!&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">warnings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;input is empty&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Predict</span><span class="p">(</span><span class="n">Estimator</span><span class="p">):</span>
    <span class="c1"># Do prediction here</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">ValidationStage</span><span class="p">(),</span> <span class="n">Predict</span><span class="p">())</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">PipelineData</span><span class="p">(</span><span class="s2">&quot;received data&quot;</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">output_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is frozen when the pipeline is being ran.
This means that an exception will be thrown if a new attribute
is added during pipeline execution.</p>
</div>
</dd></dl>

<span class="target" id="module-surround.stage"></span></div>
<div class="section" id="stage">
<h3>Stage<a class="headerlink" href="#stage" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.stage.Stage">
<em class="property">class </em><code class="descclassname">surround.stage.</code><code class="descname">Stage</code><a class="reference internal" href="_modules/surround/stage.html#Stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class of all stages in a Surround pipeline.</p>
<p>See the following classes for more information:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a></p></li>
<li><p><a class="reference internal" href="#surround.stage.Filter" title="surround.stage.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Filter</span></code></a></p></li>
</ul>
<dl class="method">
<dt id="surround.stage.Stage.dump_output">
<code class="descname">dump_output</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Stage.dump_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Stage.dump_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump the output of the stage after the stage has transformed the data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> (when dumping output is requested).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores intermediate data from each stage in the pipeline</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Config of the pipeline</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.stage.Stage.init_stage">
<code class="descname">init_stage</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Stage.init_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Stage.init_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the stage, this may be loading a model or loading data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is called by <a class="reference internal" href="#surround.assembler.Assembler.init_assembler" title="surround.assembler.Assembler.init_assembler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.init_assembler()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Contains the settings for each stage</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="validator">
<h3>Validator<a class="headerlink" href="#validator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.stage.Validator">
<em class="property">class </em><code class="descclassname">surround.stage.</code><code class="descname">Validator</code><a class="reference internal" href="_modules/surround/stage.html#Validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class of a validation stage in a Surround pipeline. Responsible for checking the data being
fed into the pipeline before passing the data onto the next stages (filtering, estimation, etc).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This stage is executed in <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> before all other stages in the pipeline.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ValidateData</span><span class="p">(</span><span class="n">Validator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">surround_data</span><span class="o">.</span><span class="n">input_data</span><span class="p">:</span>
            <span class="c1"># Stop the pipeline, we have no data!</span>
            <span class="n">surround_data</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;input_data&#39; is None&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="surround.stage.Validator.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Validator.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Validator.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate data being loaded into the pipeline. Appending to <code class="docutils literal notranslate"><span class="pre">surround_data.errors</span></code>
or <code class="docutils literal notranslate"><span class="pre">surround_data.warnings</span></code> when problems are found with the input data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should only be called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores intermediate data from each stage in the pipeline</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Config of the pipeline</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="filter">
<h3>Filter<a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.stage.Filter">
<em class="property">class </em><code class="descclassname">surround.stage.</code><code class="descname">Filter</code><a class="reference internal" href="_modules/surround/stage.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class of all filters (pre or post) in a Surround pipeine.</p>
<p>There are two types of filters:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Pre-filters</strong> - Perform data wrangling operations on the data <strong>before</strong></dt><dd><p>being fed into an <a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Post-filters</strong> - Perform data wrangling operations on the data <strong>after</strong></dt><dd><p>being fed into an <a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a>.</p>
</dd>
</dl>
</li>
</ul>
<p>Depending on the type, this stage is executed before/after an estimator in the pipeline.</p>
<p>There can be many pre/post filters in a single <a class="reference internal" href="#surround.assembler.Assembler" title="surround.assembler.Assembler"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.assembler.Assembler</span></code></a> instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To set the pre/post filter(s), use <a class="reference internal" href="#surround.assembler.Assembler.set_estimator" title="surround.assembler.Assembler.set_estimator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.set_estimator()</span></code></a>.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ConvertFromJSONString</span><span class="p">(</span><span class="n">Filter</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">surround_data</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ConvertToJSONString</span><span class="p">(</span><span class="n">Filter</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">surround_data</span><span class="o">.</span><span class="n">output_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span>

<span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">ValidationStage</span><span class="p">())</span>

<span class="c1"># Set ConvertFromJSONString as a pre-filter, the other as a post-filter</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">set_estimator</span><span class="p">(</span><span class="n">PredictStage</span><span class="p">,</span> <span class="p">[</span><span class="n">ConvertFromJSONString</span><span class="p">()],</span> <span class="p">[</span><span class="n">ConvertToJSONString</span><span class="p">()])</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">PipelineData</span><span class="p">(</span><span class="s2">&quot;{ &quot;</span><span class="n">example</span><span class="s2">&quot;: &quot;</span><span class="n">data</span><span class="s2">&quot; }&quot;</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Would print JSON represented as a string</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">output_data</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="surround.stage.Filter.operate">
<code class="descname">operate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Filter.operate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Filter.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify data before/after it enters an <a class="reference internal" href="#surround.stage.Estimator" title="surround.stage.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Estimator</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should only be called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores intermediate data from each stage in the pipeline</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Contains the settings for each stage</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="estimator">
<h3>Estimator<a class="headerlink" href="#estimator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.stage.Estimator">
<em class="property">class </em><code class="descclassname">surround.stage.</code><code class="descname">Estimator</code><a class="reference internal" href="_modules/surround/stage.html#Estimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for an estimator in a Surround pipeline. Responsible for performing estimation
or training using the input data.</p>
<p>This stage is executed by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> after the validator and
in-between pre and post filters.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Predict</span><span class="p">(</span><span class="n">Estimator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">load_model</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;models_path&quot;</span><span class="p">],</span> <span class="s2">&quot;model.pb&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">estimate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">surround_data</span><span class="o">.</span><span class="n">output_data</span> <span class="o">=</span> <span class="n">run_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">surround_data</span><span class="o">.</span><span class="n">output_data</span> <span class="o">=</span> <span class="n">train_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="surround.stage.Estimator.estimate">
<code class="descname">estimate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Estimator.estimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Estimator.estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Process input data and store estimated values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is ONLY called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> when
running in predict/batch-predict mode.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores intermediate data from each stage in the pipeline</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Contains the settings for each stage</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.stage.Estimator.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/stage.html#Estimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.stage.Estimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the input data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is ONLY called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> when
running in training mode.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores intermediate data from each stage in the pipeline</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Contains the settings for each stage</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="visualiser">
<h3>Visualiser<a class="headerlink" href="#visualiser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.visualiser.Visualiser">
<em class="property">class </em><code class="descclassname">surround.visualiser.</code><code class="descname">Visualiser</code><a class="reference internal" href="_modules/surround/visualiser.html#Visualiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.visualiser.Visualiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all visualisers that are executed at the end of a batch predict/training operation.</p>
<p>Visualisers are used to prettify or format results from a batch predict or training execution
of an <a class="reference internal" href="#assembler"><span class="std std-ref">Assembler</span></a>. Such as generating graphs or formatting the data in a way that is meaningful.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To set a visualiser to a pipeline, use <a class="reference internal" href="#surround.assembler.Assembler.set_visualiser" title="surround.assembler.Assembler.set_visualiser"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.set_visualiser()</span></code></a>.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">class</span> <span class="nc">Accuracy</span><span class="p">(</span><span class="n">Visualiser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">visualise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surround_data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">get_epochs</span><span class="p">(</span><span class="n">surround_data</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">get_accuracy_over_epochs</span><span class="p">(</span><span class="n">surround_data</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Epochs vs Accuracy&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Epochs&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">Validate</span><span class="p">(),</span> <span class="n">Predict</span><span class="p">())</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">set_visualiser</span><span class="p">(</span><span class="n">Accuracy</span><span class="p">())</span>

<span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">PipelineData</span><span class="p">(</span><span class="n">input_data</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="surround.visualiser.Visualiser.visualise">
<code class="descname">visualise</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/visualiser.html#Visualiser.visualise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.visualiser.Visualiser.visualise" title="Permalink to this definition">¶</a></dt>
<dd><p>Prettify/format the data contained in <code class="docutils literal notranslate"><span class="pre">surround_data</span></code>.</p>
<p>Called by <a class="reference internal" href="#surround.assembler.Assembler.run" title="surround.assembler.Assembler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">surround.assembler.Assembler.run()</span></code></a> after all other stages in
the pipline have been executed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should only be called by the <a class="reference internal" href="#assembler"><span class="std std-ref">Assembler</span></a>!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (Instance or child of <a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – Stores the results of the pipeline execution</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – Config of the pipeline</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="runner">
<h2>Runner<a class="headerlink" href="#runner" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="surround.runners.Runner">
<em class="property">class </em><code class="descclassname">surround.runners.</code><code class="descname">Runner</code><span class="sig-paren">(</span><em>assembler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/runners.html#Runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.runners.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for runners which are responsible for:</p>
<ul class="simple">
<li><p>Initializing an <a class="reference internal" href="#surround.assembler.Assembler" title="surround.assembler.Assembler"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.assembler.Assembler</span></code></a>.</p></li>
<li><p>Loading/preparing input data.</p></li>
<li><p>Running the <a class="reference internal" href="#surround.assembler.Assembler" title="surround.assembler.Assembler"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.assembler.Assembler</span></code></a>.</p></li>
</ul>
<p>Example batch runner:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BatchRunner</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assembler</span><span class="o">.</span><span class="n">init_assembler</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assembler</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data_path&quot;</span><span class="p">],</span> <span class="s2">&quot;input.txt&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">RunnersData</span><span class="p">()</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                <span class="c1"># Each line needs to be processed by the pipeline</span>
                <span class="n">data</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>

                <span class="c1"># Start assembler to process processed data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assembler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Batch Runner: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">output_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You get a Batch Runner and Web Runner (if web requested) when
you generate a project using the CLI tool.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assembler</strong> (<a class="reference internal" href="#surround.assembler.Assembler" title="surround.assembler.Assembler"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.assembler.Assembler</span></code></a>) – The assembler the runner will execute</p>
</dd>
</dl>
<dl class="method">
<dt id="surround.runners.Runner.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>is_training=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/runners.html#Runner.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.runners.Runner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data and execute the <a class="reference internal" href="#surround.assembler.Assembler" title="surround.assembler.Assembler"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.assembler.Assembler</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>is_training</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Run the pipeline in training mode or not</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="linter">
<span id="id2"></span><h2>Linter<a class="headerlink" href="#linter" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-surround.linter"></span><dl class="class">
<dt id="surround.linter.Linter">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">Linter</code><a class="reference internal" href="_modules/surround/linter.html#Linter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.Linter" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the Surround linter which performs multiple checks on the surround project
and displays warnings/errors found during the linting process.</p>
<p>This class is used by the Surround CLI to perform the linting of a project via the
<cite>lint</cite> sub-command.</p>
<p>To add a new check to the linter, append an instance of it to the <code class="docutils literal notranslate"><span class="pre">filters</span></code> list.</p>
<dl class="method">
<dt id="surround.linter.Linter.check_project">
<code class="descname">check_project</code><span class="sig-paren">(</span><em>project</em>, <em>project_root='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#Linter.check_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.Linter.check_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the linter against the project specified, returning any warnings/errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – expected file structure of the project</p></li>
<li><p><strong>project_root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the root of the project (default: current directory)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>errors and warnings found (if any)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(list of error strings, list of warning strings)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.linter.Linter.dump_checks">
<code class="descname">dump_checks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#Linter.dump_checks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.Linter.dump_checks" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps a list of the checks in this linter.
The list is compiled using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">LinterStage.key</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">LinterStage.description</span></code>
attributes of each check.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>formatted list of the checkers in the linter</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="linterstage">
<h3>LinterStage<a class="headerlink" href="#linterstage" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.linter.LinterStage">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">LinterStage</code><span class="sig-paren">(</span><em>key</em>, <em>description</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#LinterStage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.LinterStage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#surround.stage.Filter" title="surround.stage.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.stage.Filter</span></code></a></p>
<p>Base class for a check in the Surround <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>.</p>
<p>Provides functions for creating warnings and errors that are
found during the linting process.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CheckExists</span><span class="p">(</span><span class="n">LinterStage</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">project_root</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;Project doesn&#39;t exist!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Constructor for a linter stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – identifier of the linter stage</p></li>
<li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – short description of the linter stage</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="surround.linter.LinterStage.add_error">
<code class="descname">add_error</code><span class="sig-paren">(</span><em>data</em>, <em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#LinterStage.add_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.LinterStage.add_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an error which will be displayed and stop the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#surround.linter.ProjectData" title="surround.linter.ProjectData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProjectData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – description of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.linter.LinterStage.add_warning">
<code class="descname">add_warning</code><span class="sig-paren">(</span><em>data</em>, <em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#LinterStage.add_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.LinterStage.add_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a warning that will be displayed but the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a> will continue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#surround.linter.ProjectData" title="surround.linter.ProjectData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProjectData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – description of the warning</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="surround.linter.LinterStage.operate">
<code class="descname">operate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#LinterStage.operate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.LinterStage.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed by the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>, performs the linting specific to this stage.
<strong>Must</strong> be implemented in extended versions of this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (<a class="reference internal" href="#surround.linter.ProjectData" title="surround.linter.ProjectData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProjectData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – the configuration data for the linter</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="projectdata">
<h3>ProjectData<a class="headerlink" href="#projectdata" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.linter.ProjectData">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">ProjectData</code><span class="sig-paren">(</span><em>project_structure</em>, <em>project_root</em>, <em>project_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#ProjectData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.ProjectData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">surround.surround.SurroundData</span></code></p>
<p>Class containing the data passed between each <a class="reference internal" href="#surround.linter.LinterStage" title="surround.linter.LinterStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinterStage</span></code></a>.</p>
<p><strong>Attributes:</strong></p>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">project_structure</span></code> - expected file structure of the surround project (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">project_root</span></code> - path to the root of the surround project (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">project_name</span></code> - name of the surround project (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>)</p></li>
</ul>
<p>Constructor for the ProjectData class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_structure</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – the expected file structure of the project</p></li>
<li><p><strong>project_root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the root of the project</p></li>
<li><p><strong>project_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the project</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="checkdata">
<h3>CheckData<a class="headerlink" href="#checkdata" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.linter.CheckData">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">CheckData</code><a class="reference internal" href="_modules/surround/linter.html#CheckData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#surround.linter.LinterStage" title="surround.linter.LinterStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.linter.LinterStage</span></code></a></p>
<p><a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a> stage that checks the data folder in the surround project for files.</p>
<dl class="method">
<dt id="surround.linter.CheckData.operate">
<code class="descname">operate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#CheckData.operate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckData.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed by the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>, checks if there is any files in the project’s data folder.
If there is none then a warning will be issued.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (<a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – the linter’s configuration data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="checkfiles">
<h3>CheckFiles<a class="headerlink" href="#checkfiles" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.linter.CheckFiles">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">CheckFiles</code><a class="reference internal" href="_modules/surround/linter.html#CheckFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#surround.linter.LinterStage" title="surround.linter.LinterStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.linter.LinterStage</span></code></a></p>
<p><a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a> stage that checks the surround project files exist.</p>
<dl class="method">
<dt id="surround.linter.CheckFiles.operate">
<code class="descname">operate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#CheckFiles.operate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckFiles.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed by the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>, checks if the files in the project structure exist.
Will create errors if required surround project files are missing in the root directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (<a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – the linter’s configuation data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="checkdirectories">
<h3>CheckDirectories<a class="headerlink" href="#checkdirectories" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="surround.linter.CheckDirectories">
<em class="property">class </em><code class="descclassname">surround.linter.</code><code class="descname">CheckDirectories</code><a class="reference internal" href="_modules/surround/linter.html#CheckDirectories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckDirectories" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#surround.linter.LinterStage" title="surround.linter.LinterStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.linter.LinterStage</span></code></a></p>
<p><a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a> stage that checks the surround project directories exist.</p>
<dl class="method">
<dt id="surround.linter.CheckDirectories.operate">
<code class="descname">operate</code><span class="sig-paren">(</span><em>surround_data</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/surround/linter.html#CheckDirectories.operate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#surround.linter.CheckDirectories.operate" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed by the <a class="reference internal" href="#surround.linter.Linter" title="surround.linter.Linter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Linter</span></code></a>, checks whether the project directories exist.
If the expected directories don’t exist then errors will be created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surround_data</strong> (<a class="reference internal" href="#surround.SurroundData" title="surround.SurroundData"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.SurroundData</span></code></a>) – the data being passed between stages</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#surround.config.Config" title="surround.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">surround.config.Config</span></code></a>) – the linter’s configuration data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/../_images/temp_logo_hq.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Users's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-guide.html">Command-line Interface</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#assembler">Assembler</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#config">Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#surrounddata">SurroundData</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stage">Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#validator">Validator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter">Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#estimator">Estimator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualiser">Visualiser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#runner">Runner</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linter">Linter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linterstage">LinterStage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#projectdata">ProjectData</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checkdata">CheckData</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checkfiles">CheckFiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checkdirectories">CheckDirectories</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="cli-guide.html" title="previous chapter">Command-line Interface</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Scott Barnett.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/surround.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>